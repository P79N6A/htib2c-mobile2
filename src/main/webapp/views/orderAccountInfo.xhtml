<!DOCTYPE html>
<html>
<body>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./template.xhtml">

    <ui:define name="header">
        订购信息
    </ui:define>

    <ui:define name="workspace">
        <link rel="stylesheet" href="#{facesContext.externalContext.request.contextPath}/resources/css/jquery-labelauty.css" />
        <!--<script src="#{facesContext.externalContext.request.contextPath}/resources/js/jquery.mobile-1.4.5.min.js"/>-->
        <script type="text/javascript">
            var ua = navigator.userAgent.toLowerCase();
            if(ua.match(/MicroMessenger/i)!="micromessenger" &amp;&amp; ua.indexOf("alipay")==-1) {
                window.location.href="#{facesContext.externalContext.request.contextPath}/views/wrongBrowser.xhtml";
            }
            var orderAccountInfoPopVal = $("#orderAccountInfoPop").val();
            console.log(orderAccountInfoPopVal);
            if(orderVehiclePopVal == null || orderVehiclePopVal == ""){
                $('#filer').hide();
                $('#sn_err').hide();
            }else{
                $('#filer').show();
                $('#sn_err').show();
                $('#perro').html(orderVehiclePopVal);

            }
            function hideLogOff() {
                $('#filer').hide();
                $('#sn_err').hide();
            }
        </script>
        <h:form id="condition">
            <h:messages infoClass="info" errorClass="error" warnClass="warn" />
            <h:inputText id="orderAccountInfoPop"  value="#{orderBackingBean.orderAccountInfoPop}"></h:inputText>
            <label>您选择的智能互联服务套餐：</label>
            <div class="ui-corner-all custom-corners">
                <div class="ui-body ui-body-a">
                    <div class="ui-grid-a">
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐名称:</span></div>
                        <div class="ui-block-b" style="width: 70%;">

                            <c:if test="#{orderBackingBean.selectedBaseProduct.vol le 1000}">
                                <span style="color: red;"><h:outputText value="#{orderBackingBean.selectedBaseProduct.prodName}"/></span>
                            </c:if>
                            <c:if test="#{orderBackingBean.selectedBaseProduct.vol gt 1000}">
                                <h:outputText value="#{orderBackingBean.selectedBaseProduct.prodName}"/>
                            </c:if>

                        </div>
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐规格:</span></div>
                        <div class="ui-block-b" style="width: 70%;">
                            <c:if test="#{orderBackingBean.selectedBaseProduct.vol le 1000}">
                                    <span>
                                        <h:outputText value="#{orderBackingBean.selectedBaseProduct.vol}">
                                            <f:converter converterId="MBToGBConverter"/>
                                        </h:outputText>
                                    </span>
                            </c:if>
                            <c:if test="#{orderBackingBean.selectedBaseProduct.vol gt 1000}">
                                    <span>
                                        <h:outputText value="#{orderBackingBean.selectedBaseProduct.vol}" style="color: red;">
                                            <!--<f:converter converterId="DoubleFestivalGBConverter"/>-->
                                            <f:converter converterId="MBToGBConverter"/>
                                        </h:outputText>
                                    </span>
                            </c:if>
                        </div>
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐有效期:</span></div>
                        <div class="ui-block-b" style="width: 70%;"><span><h:outputText value="#{orderBackingBean.selectedBaseProduct.duration}"/>个月</span></div>
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐价格:</span></div>
                        <div class="ui-block-b" style="width: 70%;"><span><h:outputText value="#{orderBackingBean.selectedBaseProduct.price}"/>元</span></div>

                    </div>
                </div>
            </div>

            <br/><br/>

            <label>您选择车载WiFi及多媒体套餐：</label>
            <div class="ui-corner-all custom-corners">
                <div class="ui-body ui-body-a">
                    <div class="ui-grid-a">
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐名称:</span></div>
                        <div class="ui-block-b" style="width: 70%;">

                            <c:if test="#{orderBackingBean.selectedWifiProduct.vol le 1000}">
                                <span style="color: red;"><h:outputText value="#{orderBackingBean.selectedWifiProduct.prodName}"/></span>
                            </c:if>
                            <c:if test="#{orderBackingBean.selectedWifiProduct.vol gt 1000}">
                                <h:outputText value="#{orderBackingBean.selectedWifiProduct.prodName}"/>
                            </c:if>

                        </div>
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐规格:</span></div>
                        <div class="ui-block-b" style="width: 70%;">
                            <c:if test="#{orderBackingBean.selectedWifiProduct.vol le 1000}">
                                    <span>
                                        <h:outputText value="#{orderBackingBean.selectedWifiProduct.vol}">
                                            <f:converter converterId="MBToGBConverter"/>
                                        </h:outputText>
                                    </span>
                            </c:if>
                            <c:if test="#{orderBackingBean.selectedWifiProduct.vol gt 1000}">
                                    <span>
                                        <h:outputText value="#{orderBackingBean.selectedWifiProduct.vol}" style="color: red;">
                                            <!--<f:converter converterId="DoubleFestivalGBConverter"/>-->
                                            <f:converter converterId="MBToGBConverter"/>
                                        </h:outputText>
                                    </span>
                            </c:if>
                        </div>
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐有效期:</span></div>
                        <div class="ui-block-b" style="width: 70%;"><span><h:outputText value="#{orderBackingBean.selectedWifiProduct.duration}"/>个月</span></div>
                        <div class="ui-block-a" style="width: 30%;color: #f57e24;"><span>套餐价格:</span></div>
                        <div class="ui-block-b" style="width: 70%;"><span><h:outputText value="#{orderBackingBean.selectedWifiProduct.price}"/>元</span></div>

                    </div>
                </div>
            </div>

            <br/><br/>

            <div>
                您的爱车可以购买多媒体服务套餐，请点击”下一步”进行付款，祝您使用愉快。
            </div>
            <div class="ui-corner-all custom-corners">
                <div class="ui-bar ui-bar-a" style="text-align: center">
                    <h6>账户信息</h6>
                </div>
                <div class="ui-body ui-body-a">
                    <div class="ui-grid-a">
                        <div class="ui-block-a" style="color: #f57e24;"><span>用户姓名:</span></div>
                        <div class="ui-block-b">
                            <span>
                                <h:outputText value="#{orderBackingBean.selectedVehicle.name}">
                                    <f:converter converterId="UserNameConverter"/>
                                </h:outputText>
                        </span>
                        </div>
                        <div class="ui-block-a" style="color: #f57e24;"><span>智能互联客户编号:</span></div>
                        <div class="ui-block-b"><span><h:outputText value="#{orderBackingBean.selectedVehicle.acctNum}">
                            <f:converter converterId="AccountNumConverter"/>
                        </h:outputText></span></div>
                        <div class="ui-block-a" style="color: #f57e24;"><span>智能互联关联手机号码:</span></div>
                        <div class="ui-block-b"><span><h:outputText value="#{orderBackingBean.selectedVehicle.cellphone}">
                            <f:converter converterId="MobilePhoneConverter"/>
                        </h:outputText></span></div>
                        <div class="ui-block-a" style="color: #f57e24;"><span>车架号:</span></div>
                        <div class="ui-block-b"><span><h:outputText value="#{orderBackingBean.selectedVehicle.vin}">
                            <f:converter converterId="VinConverter"/>
                        </h:outputText></span></div>
                        <!--<div class="ui-block-a" style="color: #f57e24;"><span>车型:</span></div>-->
                        <!--<div class="ui-block-b"><span><h:outputText value="#{orderBackingBean.selectedVehicle.model}"/></span></div>-->
                        <!--<div class="ui-block-a" style="color: #f57e24;"><span>颜色:</span></div>-->
                        <!--<div class="ui-block-b"><span><h:outputText value="#{orderBackingBean.selectedVehicle.color}"/></span></div>-->
                    </div>
                </div>
            </div>

            <h:commandButton value="下一步" action="#{orderBackingBean.toOrderPayment}" />
        </h:form>
        <div class="alert" id="sn_err" style="display:none">
            <div class="a_txt" id="perro"></div>
            <div class="m_btn m_btn1"><input type="button" value="重 &#160; 试"
                                             onclick="hideLogOff()" class="csinput"/></div>
        </div>
        <div id="filer"  style="display:none"></div>

    </ui:define>

</ui:composition>
</body>
</html>